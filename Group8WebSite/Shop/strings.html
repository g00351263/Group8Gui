<!--
Brendan Browne, Raja Khan, Chu Yoon Kong
GUI & Web Design 
Group Website Assessment
-->

<!DOCTYPE>

<html>
<head>
	<title> STRING Shop </title>
	<link rel="stylesheet" href = "../G8Stylesheet.css">
	
	<meta name="keywords" content="GMIT, Archery, Archery Ireland, World Archery, Club">
	<meta name="description" content="GMIT Archery Club Website">
	<meta name="author" content="Brendan Browne, Raja Khan, Chu Yoon Kong">
	<meta http-equiv="default-style" content="G8Stylesheet.css">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>


</style>
	
</head>
<body>

	<div id = "wrapper">
		<div id = "header">

			<div id = "header-image">
		
				<img src = "../images/GMIT_Logo.jpg" alt = "GMIT Logo" height ="100%" id="top">
			</div>
			<div id = "header-image">
				<img src = "../images/GMIT_Hall1.jpg" alt = "GMIT Hall" height = "100%">
			</div>
			<div id = "header-image">
				<img src = "../images/GMIT_Logo.jpg" alt = "GMIT Logo" height = "100%">
			</div>
		</div>
		<div id = "menu">
			<b>
			<a href="../index.html">Home</a>&nbsp;&nbsp; - &nbsp;&nbsp;
			<a href="../Club History/ClubHistory.html">Club History</a>&nbsp;&nbsp; - &nbsp;&nbsp;
			<a href="../HistoryOfArchery.html">History of Archery</a>&nbsp;&nbsp; - &nbsp;&nbsp;
			<a href="../Club History/Gallery.html">Gallery</a>&nbsp;&nbsp; - &nbsp;&nbsp;
			<a href="../Videos/videos.html">Videos</a>&nbsp;&nbsp; - &nbsp;&nbsp;
			<a href="../Contact.html">Contact</a>&nbsp;&nbsp; - &nbsp;&nbsp;
			<a href="shop.html">Shop</a>

			</b>
		</div>
		<div id = "left">

			<a href = "https://www.facebook.com/GMIT.Archery/"><img src = "../images/GMIT_Logo_F.jpg" alt = "GMIT Logo" width = "100%" 
			title = "GMIT Facebook"></a>
			&nbsp;
			<a href = "https://worldarchery.org/"><img src = "../images/WAlogo.png" alt = "World Archery Logo" width = "100%" 
			title = "World Archery"></a>
			&nbsp;
			<a href = "http://archery.ie/"><img src = "../images/Archery_Ireland_Logo.png" alt = "Archery Ireland Logo" width = "100%" 
			title = "Archery Ireland"></a>
			&nbsp;
			<a href = "https://www.archery360.com/"><img src = "../images/archery360.png" alt = "Archery 360" width = "100%" 
			title = "Archery 360"></a>
			&nbsp;
			<a href = "http://www.merlinarchery.co.uk/"><img src = "../images/merlin.jpg" alt = "Merlin Archery" width = "100%" 
			title = "Merlin Archery"></a>
		</div>
		<br>

		<div id = "main" style= "padding-right: 6px;">
			<div id="buy">
				<div id="loginBox" align = "center">
					<input type="text" placeholder="UserName" id="user">&nbsp;
					<input type="password" placeholder="Password" id="password">&nbsp;
					<input type="button" value="LogIn" id="logIn" onclick = "userValidation()">	&nbsp;
					<a href = "../registration.html"><input type="button" value="Register" id="register" ></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
												
					<a href = "../basket.html" id="cart"><image src="../images/cart.jpg" height = "40px" align = "left"><b id = "basket">Items in Cart: 0</b></a>
				</div>
				<div id="archerMenu">
					<div id="menu1" style = "padding-top: 10px">
						<image src="../images/storecat.jpg" width=100%>
						<hr>
						<br>
						<div id = "buttons"><a href="arrows.html"><button>Arrows</button></a></div>
						<div id = "buttons"><a href="bows.html"><button>Bows</button></a></div>
						<div id = "buttons"><a href="stablizers.html"><button>Stablizers</button></a></div>
						<div id = "buttons"><a href="strings.html"><button>Strings</button></a></div>
						<div id = "buttons"><a href="shop.html"><button>Special Offers</button></a></div>					
					</div>
					
					<div  id ="men1">
						<div class="textOverImage">
						<img src = "../images/FLEX.jpg" class = "image">
							<div class = "after">
								<div class = "text">
									Flex Recurve Bowstring BCY X.
								</div>
							</div>
						</div>
						
						<marquee>FLEX RECURVE BOWSTRING</marquee>
						<hr>
						<button id = "buttonCart" onclick = "addToCart(0)">Add to Cart</button>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input type="text" id="qty0" placeholder="Qty" size = "2">
						<hr>
						<text id="inttext2">Best Value Pack for only &euro;14.16</text>
					</div>
					
					<div  id ="menu1">
						<div class="textOverImage">
						<img src = "../images/REIGN.jpg" class = "image">
							<div class = "after">
								<div class = "text">
									All Reign recurve strings are pretensioned to 300lb, twisted to length and then served under tension. Using 0.014&quot 
									Halo braided serving for the ends (the most durable in the industry); each loop serving is uniquely constructed in 1 
									piece with just a single strand of overlay at the join of the loop. No massive build up to throw the string off 
									course as it comes back to the limb, ours allow the string to naturally return to the limb groove more consistently.
								</div>
							</div>
						</div>
						
						<marquee>REIGN BOWSTRINGS</marquee>
						<hr>
						<button id = "buttonCart" onclick = "addToCart(1)">Add to Cart</button>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input type="text" id="qty1" placeholder="Qty" size = "2">
						<hr>
						<text id="inttext2">Best Value Pack for only &euro;21.18</text>
					</div>
					
				</div>
				
				<div id="archerMenu" style = "border-top:solid;">
					<div id="menu1">
						<div class="textOverImage">
						<img src = "../images/bcy-62xs-serving.jpg" class = "image">
							<div class = "after">
								<div class = "text">
									20% stronger and more durable than standard black and white serving due to a higher percentage of Spectra or Dyneema. 
									Grips well. Standard colour is black.
								</div>
							</div>
						</div>
						
						<marquee>BCY 62X</marquee>
						<hr>
						<button id = "buttonCart" onclick = "addToCart(2)">Add to Cart</button>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input type="text" id="qty2" placeholder="Qty" size = "2">
						<hr>
						<text id="inttext2">Best Value Pack for only &euro;27.64</text>
					</div>
					
					<div  id ="men1">
						<div class="textOverImage">
						<img src = "../images/avalon-serving-tool.jpg" class = "image">
							<div class = "after">
								<div class = "text">
									Good basic serving tool for string making.
								</div>
							</div>
						</div>
						
						<marquee>AVALON SERVING TOOL</marquee>
						<hr>
						<button id = "buttonCart" onclick = "addToCart(3)">Add to Cart</button>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input type="text" id="qty3" placeholder="Qty" size = "2">
						<hr>
						<text id="inttext2">Best Value Pack for only &euro;5.09</text>
					</div>
					
					<div  id ="menu1">
						<div class="textOverImage">
						<img src = "../images/decut-string-jig.jpg" class = "image">
							<div class = "after">
								<div class = "text">
									This jig offers simplicity, but without compromising quality. Its sturdy construction rivals its competitors and 
									is easily adjusted.
								</div>
							</div>
						</div>
						
						<marquee>DECUT STRING JIG</marquee>
						<hr>
						<button id = "buttonCart" onclick = "addToCart(4)">Add to Cart</button>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input type="text" id="qty4" placeholder="Qty" size = "2">
						<hr>
						<text id="inttext2">Best Value Pack for only &euro;175.02</text>
					</div>
					
				</div>
			
			</div>
			
		</div>
		
	</div>
	
	<div class="changeRed" id="divRed"></div>
	<div class="changePurple" id="divPurple"></div>
	<div class="changeOrange" id="divGold"></div>
		
<script>

// Event listeners to change the wrapper colour
var red = document.getElementById("divRed");
red.addEventListener("click", changeR);

var purple = document.getElementById("divPurple");
purple.addEventListener("click", changeP);

var gold = document.getElementById("divGold");
gold.addEventListener("click", changeG);

// Validate login details
function userValidation()
{
	var userVal = JSON.parse(localStorage.UserInfoArr);
	var i;
	var found = false;
	
	var name = document.getElementById("user").value;
	var pass = document.getElementById("password").value;
	
	for(i = 0; i < userVal.length; i++)
	{
		var username = userVal[i].firstName + " " + userVal[i].lastName;
		
		if(username == name && userVal[i].password == pass)
		{
			found = true;
		}
		
	}
	
	if(found)
	{
		alert("Welcome " + name);
		sessionStorage.login = name;
	}
	else
	{
		alert("Username or Password incorrect\nUser name is First name and Last name seperated by a space");
	}
}

//Set up an Array with product details
var stringOffers = [];

function strings(product, price)
{
	this.product = product;
	this.price = price;
	stringOffers.push(this);
}

new strings("FLEX RECURVE BOWSTRING", 14.16);
new strings("REIGN BOWSTRINGS", 21.18);
new strings("BCY 62X", 27.64);
new strings("AVALON SERVING TOOL", 5.09);
new strings("DECUT STRING JIG", 175.02);

localStorage.stringOffersArr = JSON.stringify(stringOffers);

// Check if the cart exists
if (sessionStorage.getItem("cartProductsArr") === null) 
{
	var cartProducts = [];
	sessionStorage.cartProductsArr = JSON.stringify(cartProducts);
}
else
{
	cartProducts = JSON.parse(sessionStorage.cartProductsArr);
	basketQuantity();
}

// Create an object for the cart
function cart(i)
{
	this.product = stringOffers[i].product;
	this.price = stringOffers[i].price;
	this.qty = document.getElementById("qty" + i).value;
	cartProducts.push(this);
}

// If logged in add object to cart
function addToCart(i)
{
	if (sessionStorage.getItem("login") === null) 
	{
		alert("Please Log in");
	}
	else
	{
		new cart(i);
		sessionStorage.cartProductsArr = JSON.stringify(cartProducts);
		basketQuantity();
	}
}

// Update quantity for items in basket
function basketQuantity()
{
	var basket = 0;
	
	cartProducts = JSON.parse(sessionStorage.cartProductsArr);
	
	if(cartProducts.length<=0)
	{
		document.getElementById("basket").innerHTML = "  Items in Cart: 0";
	}
	else
	{
		for(var i = 0; i < cartProducts.length; i++)
		{
			basket += parseInt(cartProducts[i].qty);
		}
		document.getElementById("basket").innerHTML = "  Items in Cart: " + basket;
	}
}

//Change the colour of the wrapper
function changeR()
{
	document.getElementById("wrapper").style.backgroundColor = "#e6005c";
}

function changeP()
{
	document.getElementById("wrapper").style.backgroundColor = "#990099";
}

function changeG()
{
	document.getElementById("wrapper").style.backgroundColor = "gold";
}
</script>
</body>
</html>